version: '3'
services:
  backend:
    build:
      context: .
      dockerfile: Dockerfile.dev
    command: cargo watch -x run
    volumes:
      - ./mainman:/usr/mainman/mainman
      - ./Cargo.toml:/usr/mainman/Cargo.toml
      - ./stripe:/usr/mainman/stripe
    environment:
      - RUST_BACKTRACE=1
      - RUST_LOG=mainman=debug,actix_web=info
